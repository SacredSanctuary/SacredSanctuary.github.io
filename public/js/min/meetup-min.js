!function(){var e={};e.meetup={},e.meetup.endpoint="https://api.meetup.com/",e.meetup.key="65557b272b2e302051116d2e4c5468d",e.meetup.group="ilovepracticalspirituality",e.meetup.events=[],e.meetup.rsvps=[],e.meetup.rsvpIDs=[],e.meetup.initialize=function(){e.meetup.getEvents()},e.meetup.getRsvps=function(){var t=e.meetup.endpoint+"self/events";t+="?scroll=next_upcoming",t+="&photo-host=public",t+="&sig_id=83070352",t+="&sig=f83597a3980abb985f16e83267dc3ad943bd64a5",$.ajax({method:"get",dataType:"jsonp",url:t,success:function(t){console.log(t);for(var s in t.data){var a=t.data[s];if(a.group.urlname===e.meetup.group){e.meetup.rsvpIDs.push(a.id);var n={title:a.name,id:a.id,start:a.time+a.utc_offset,end:a.time+a.duration+a.utc_offset,url:a.event_url,fee:a.fee};e.meetup.rsvps.push(n)}}$("#rsvp pre").text(JSON.stringify(e.meetup.rsvps));for(s in e.meetup.rsvps){var p=e.meetup.rsvps[s];$("#rsvp").append("<div></div>"),$("#rsvp div:nth-of-type( "+s+" )").loadTemplate($("#rsvpTemplate"),{classTitle:p.title,classDescription:p.description,classLink:p.url,classFee:p.fee?p.fee.label+": $"+p.fee.amount:[]})}console.log(e.meetup.rsvpIDs),console.log(JSON.stringify(e.meetup.rsvps[0]))},error:function(e){console.log(e)}})},e.meetup.getEvents=function(){var t=e.meetup.endpoint+"2/events?sign=true";t+="&group_urlname="+e.meetup.group,t+="&key="+e.meetup.key,$.ajax({method:"get",dataType:"jsonp",url:t,success:function(t){e.meetup.events=t.results;var s=[];for(var a in e.meetup.events){var n=e.meetup.events[a],p={title:n.name,id:n.id,start:n.time+n.utc_offset,end:n.time+n.duration+n.utc_offset,url:n.event_url,description:n.description,className:["classes","foo","bar"],rsvp:{yes:n.rsvp_limit,max:n.yes_rsvp_count},fee:n.fee};s.push(p)}$("#calendar").fullCalendar({header:{left:"title",center:"",right:"month,agendaWeek today prev,next"},editable:!1,eventClick:function(e,t){return t.preventDefault(),$("#classModal .modal-content").loadTemplate($("#classTemplate"),{classTitle:e.title,classDescription:e.description,classLink:e.url,classFee:e.fee?e.fee.label+": $"+e.fee.amount:[],classRSVP:e.rsvp.yes?e.rsvp.yes:0,classRSVPMax:e.rsvp.max,classDate:e.start.format("MMMM Do YYYY, h:mm a")+" - "+e.end.format("h:mm a")}),$("#classModal").modal("show"),!1},events:s})},error:function(e){console.log(e)}})},$(window).load(function(){e.meetup.initialize()})}();